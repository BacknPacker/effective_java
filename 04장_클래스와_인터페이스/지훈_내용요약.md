## 4장 클래스와 인터페이스

### 아이템 15. 클래스와 멤버의 접근 권한을 최소화해라.

### ❓ 잘 설계된 컴포넌트란?
- 캡슐화가 얼마나 잘 돼있는지 (꼭 필요한 정보들만 공개를 했는가)
- 구현과 API를 분리했는가
> 이러한 개념을 정보은닉, 캡슐화 라고 한다.

### ✅ 정보은닉(캡슐화) 의 장점
> 컴포넌트를 서로 독립시켜 개발, 테스트, 최적화, 적용, 분석, 수정을 개별적으로 할 수 있게 하는것과 연관돼있다.
  1. **시스템 개발 속도를 높힌다.**    -> 여러 컴포넌트를 **병렬**로 개발 할 수 있기 때문
  2. **시스템 관리 비용을 낮춘다. (컴포넌트 교체 비용 절감)**    -> 컴포넌트 이해도가 높아져 디버깅할 수 있고, 교체 부담도 적기때문
  3. **성능 최적화에 도움을 준다.**    -> 최적화할 컴포넌트를 정하고 다른 컴포넌트에 영향을 주지않는 것만으로도 최적화가 될 수 있다.
  4. **소프트웨어 재사용성을 높힌다.**  -> 외부에 존재하지 않고 독자적으로 가능한 컴포넌트는 다른 시스템에서도 바로 적용이 가능하기 때문이다.
  5. **제작하는 난이도를 낮춰준다.**   -> 개별 컴포넌트의 동작을 검증할 수 있기 때문이다.

<hr/>

### ✅ 자바의 정보 은닉을 위한 장치
|                 | 해당 클래스 안에서 접근 가능 | 같은 패키지 안에서 접근 가능 | 상속받은 클래스에서 접근 가능 | 외부에서 접근 가능 |
| --------------- | ----------------------------- | ----------------------------- | ------------------------------ | ------------------- |
| public          | O                             | O                             | O                              | O                   |
| protected       | O                             | O                             | O                              | X                   |
| package-private | O                             | O                             | X                              | X                   |
| private         | O                             | X                             | X                              | X                   |

접근성 : private -> package-private(default) -> protected -> public
> 기본 원칙은 모든 클래스와 멤버의 접근성을 가능한 좁히는 것이다.

### ⛔️ public 클래스의 인스턴스 필드는 되도록 public이 되서는 안되는 이유
  1. **변경에 매우 취약하다.**
  2. 필드가 수정될 때 막을 수 없기에 public 가변필드를 갖는 클래스는 **스레드 안전하지 않다.**
  3. final이면서 불변 객체를 참조하더라도 내부 구현을 바꾸지 못하기에 **public final의 문제점**이 있다.### 

#### 해결책
- 접근 제어자를 private로 만들고 public 불변리스트에 추가
  ```java
  private static final Thing[] PRIVATE_VALUES = { ... };
  public static final List<Thing> VALUES = 
      Collections.unmodifiableList(Arrays.asList(PRIVATE_VALUES));
  ```
- 배열을 private로 만들고 복사본을 반환하는 public메서드를 추가하는 방법 (방어적 복사)
  ```java
  private static final Thing[] PRIVATE_VALUES = { ... };
  public static final Thing[] values() {
      return PRIVATE_VALUES.clone();
  }
  ```
  
### 아이템 16. public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라.
```java
class Point {
		public double x;
		public double y;
}
```
> 위치 정보를 가져오는 Point 클래스이다. 하지만 데이터 필드에 직접 접근 할 수 있으니 캡슐화(정보은닉)의 이점을 제공하지 못한다.

```java
public class Point {
    private double x;
    private double y;

    public Point(double x, double y) {
        this.x = x;
        this.y = y;
    }

    public double getX() { return x; }

    public void setX(double x) { this.x = x; }

    public double getY() { return y; }

    public void setY(double y) { this.y = y; }
}
```
> Getter와 Setter 메서드를 활용해 데이터 캡슐화

